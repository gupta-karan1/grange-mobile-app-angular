<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Search Students</ion-title>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/"></ion-back-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-menu-button menu="main-menu"></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Search Students</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-list>
    <ion-item
      color="primary"
      lines="full"
      class="ion-margin-vertical"
      detail="true"
      (click)="select.isOpen = true"
    >
      <ion-icon slot="start" name="search"></ion-icon>
      <ion-label>Search Students</ion-label>
    </ion-item>

    <app-searchable-select
      title="All Students"
      [data]="users"
      itemTextField="name.first"
      #select
      [multiple]="true"
      (selectChanged)="selectChanged($event)"
    ></app-searchable-select>
  </ion-list>

  <ion-accordion-group class="ion-margin-top" *ngIf="selectedUsers.length">
    <ion-accordion *ngFor="let user of selectedUsers">
      <ion-item slot="header">
        <ion-avatar class="ion-margin-end">
          <img title="avatar" [src]="user.picture.thumbnail" />
        </ion-avatar>
        <ion-label>{{user.name.first}}</ion-label>
      </ion-item>
      <div class="ion-padding" slot="content">
        <ion-list lines="none">
          <ion-item>
            <ion-label
              >Full Name: {{user.name.title}} {{user.name.first}}
              {{user.name.last}}</ion-label
            >
          </ion-item>
          <ion-item>
            <ion-label>Email: {{user.email}}</ion-label>
          </ion-item>
          <ion-item>
            <ion-label>Cell: {{user.cell}}</ion-label>
          </ion-item>
          <ion-item>
            <ion-label>Phone: {{user.phone}}</ion-label>
          </ion-item>
          <ion-item>
            <ion-label>Gender: {{user.gender}}</ion-label>
          </ion-item>
          <ion-item>
            <ion-label>DOB: {{user.dob.date | date }}</ion-label>
          </ion-item>
          <ion-item>
            <ion-label>Age: {{user.dob.age}}</ion-label>
          </ion-item>
          <ion-item>
            <ion-label>Nationality: {{user.nat}}</ion-label>
          </ion-item>
          <ion-item>
            <ion-label
              >Street: {{user.location.street.number}},
              {{user.location.street.name}}</ion-label
            >
          </ion-item>
          <ion-item>
            <ion-label
              >City: {{user.location.city}}, {{user.location.state}}</ion-label
            >
          </ion-item>
          <ion-item>
            <ion-label>Country: {{user.location.country}} </ion-label>
          </ion-item>
          <ion-item>
            <ion-label>Postcode: {{user.location.postcode}}</ion-label>
          </ion-item>
          <ion-item>
            <ion-img [src]="user.picture.large"></ion-img>
          </ion-item>
        </ion-list>
      </div>
    </ion-accordion>
  </ion-accordion-group>
</ion-content>
